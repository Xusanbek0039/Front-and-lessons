<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kirish ‚Äî Login (Pro versiya)</title>

  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(120deg,#eef2ff 0%, #e6fffa 100%);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      transition: background 0.3s, color 0.3s;
    }
    .dark-mode {
      background: linear-gradient(120deg,#111827 0%, #1f2937 100%);
      color: #f3f4f6;
    }
    .card {
      border: 0;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(18, 38, 63, 0.08);
      transition: background 0.3s, color 0.3s;
    }
    .dark-mode .card {
      background: #1f2937;
      color: #f3f4f6;
    }
    .form-control:focus {
      box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.12);
    }
    .strength-meter {
      height: 5px;
      margin-top: 4px;
    }
    .spinner-border {
      width: 1rem;
      height: 1rem;
    }
  </style>
</head>
<body>
  <main class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6 col-xl-5">
        <div class="card auth-card overflow-hidden p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h4 class="mb-0">üîê Tizimga kirish</h4>
            <!-- Dark mode toggle -->
            <button id="themeToggle" class="btn btn-sm btn-outline-secondary">
              <i class="bi bi-moon-fill"></i>
            </button>
          </div>
          <p class="text-muted small">Hisobingiz orqali davom eting</p>

          <form id="loginForm" class="needs-validation" novalidate>
            <!-- Email -->
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                <input type="email" class="form-control" id="email" name="email" placeholder="name@misol.uz" required>
              </div>
              <div class="invalid-feedback">Haqiqiy email kiriting.</div>
            </div>

            <!-- Password -->
            <div class="mb-3">
              <label for="password" class="form-label">Parol</label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-lock"></i></span>
                <input type="password" class="form-control" id="password" name="password" minlength="6" required>
                <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                  <i id="toggleIcon" class="bi bi-eye"></i>
                </button>
              </div>
              <div class="invalid-feedback">Parol kamida 6 belgi bo‚Äòlsin.</div>
              <!-- Strength meter -->
              <div class="progress strength-meter">
                <div id="strengthBar" class="progress-bar" role="progressbar"></div>
              </div>
            </div>

            <!-- Confirm Password -->
            <div class="mb-3">
              <label for="confirm" class="form-label">Parolni tasdiqlash</label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-shield-lock"></i></span>
                <input type="password" class="form-control" id="confirm" required>
              </div>
              <div class="invalid-feedback">Parol mos kelmadi.</div>
            </div>

            <!-- Remember me -->
            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="remember">
              <label class="form-check-label" for="remember">Eslab qolish</label>
            </div>

            <!-- Submit -->
            <div class="d-grid mb-3">
              <button type="submit" class="btn btn-primary btn-lg">
                <span id="btnText">Kirish</span>
                <span id="btnLoader" class="spinner-border spinner-border-sm d-none"></span>
              </button>
            </div>

            <div class="text-center small text-muted">
              Yoki ijtimoiy tarmoqlar orqali
              <div class="d-flex gap-2 justify-content-center mt-2">
                <button type="button" class="btn btn-outline-danger btn-sm">
                  <i class="bi bi-google"></i> Google
                </button>
                <button type="button" class="btn btn-outline-primary btn-sm">
                  <i class="bi bi-facebook"></i> Facebook
                </button>
                <button type="button" class="btn btn-outline-dark btn-sm">
                  <i class="bi bi-github"></i> GitHub
                </button>
              </div>
            </div>

            <p class="text-center small mt-3 mb-0">
              Hisobingiz yo‚Äòqmi? <a href="#">Ro‚Äòyhatdan o‚Äòtish</a>
            </p>
          </form>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Dark mode toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
    });

    // Show/hide password
    document.getElementById('togglePassword').addEventListener('click', function () {
      const pwd = document.getElementById('password');
      const icon = document.getElementById('toggleIcon');
      if (pwd.type === 'password') {
        pwd.type = 'text';
        icon.className = 'bi bi-eye-slash';
      } else {
        pwd.type = 'password';
        icon.className = 'bi bi-eye';
      }
    });

    // Password strength meter
    document.getElementById('password').addEventListener('input', function () {
      const val = this.value;
      const bar = document.getElementById('strengthBar');
      let strength = 0;
      if (val.length >= 6) strength += 1;
      if (/[A-Z]/.test(val)) strength += 1;
      if (/[0-9]/.test(val)) strength += 1;
      if (/[^A-Za-z0-9]/.test(val)) strength += 1;

      bar.style.width = (strength * 25) + '%';
      bar.className = 'progress-bar';
      if (strength === 1) bar.classList.add('bg-danger');
      if (strength === 2) bar.classList.add('bg-warning');
      if (strength === 3) bar.classList.add('bg-info');
      if (strength === 4) bar.classList.add('bg-success');
    });

    // Form validation + confirm password check
    const form = document.getElementById('loginForm');
    form.addEventListener('submit', function (event) {
      const pwd = document.getElementById('password');
      const confirm = document.getElementById('confirm');
      if (pwd.value !== confirm.value) {
        confirm.setCustomValidity('Passwords do not match');
      } else {
        confirm.setCustomValidity('');
      }

      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      } else {
        // Show loader
        document.getElementById('btnText').classList.add('d-none');
        document.getElementById('btnLoader').classList.remove('d-none');
        // Simulyatsiya qilish: 2 sek so‚Äòng yuboriladi
        event.preventDefault();
        setTimeout(() => {
          alert('Muvaffaqiyatli kirdingiz!');
          document.getElementById('btnText').classList.remove('d-none');
          document.getElementById('btnLoader').classList.add('d-none');
        }, 2000);
      }

      form.classList.add('was-validated');
    });
  </script>
</body>
</html>
